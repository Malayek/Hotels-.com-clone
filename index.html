<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>StayWorld – Book Hotels Worldwide</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      background:#f5f5f5;
      color:#222;
    }
    a{text-decoration:none;color:inherit;}
    img{max-width:100%;display:block;}
    :root{
      --sw-red:#ef3346; /* Hotels.com style red */ /* [web:52] */
      --sw-dark:#141414;
      --sw-blue:#143d59;
      --sw-yellow:#ffc94a;
      --sw-bg:#f5f5f5;
    }

    /* HEADER */
    header{
      background:var(--sw-red);
      color:#fff;
      position:sticky;
      top:0;
      z-index:50;
    }
    .header-inner{
      max-width:1180px;
      margin:0 auto;
      padding:8px 12px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .logo-wrap{
      display:flex;
      align-items:center;
      gap:8px;
    }
    .logo-circle{
      width:32px;height:32px;
      border-radius:50%;
      background:#fff;
      color:var(--sw-red);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:800;
      font-size:18px;
    }
    .logo-text{
      font-weight:800;
      letter-spacing:.04em;
      font-size:16px;
    }
    .logo-sub{
      font-size:10px;
      opacity:.9;
    }
    .nav{
      display:flex;
      align-items:center;
      gap:12px;
      font-size:13px;
    }
    .nav-link{
      padding:6px 8px;
      border-radius:14px;
      cursor:pointer;
      white-space:nowrap;
    }
    .nav-link.active{
      background:#fff;
      color:var(--sw-red);
    }
    .header-right{
      display:flex;
      align-items:center;
      gap:8px;
      font-size:12px;
    }
    .header-right button{
      border:none;
      border-radius:14px;
      padding:5px 10px;
      cursor:pointer;
      font-size:12px;
      font-weight:600;
    }
    .btn-outline{
      background:transparent;
      border:1px solid #fff;
      color:#fff;
    }
    .btn-light{
      background:#fff;
      color:var(--sw-red);
    }

    /* HERO SEARCH */
    .hero{
      background:linear-gradient(135deg,var(--sw-blue),var(--sw-red));
      padding:20px 0 26px;
      color:#fff;
    }
    .hero-inner{
      max-width:1180px;
      margin:0 auto;
      padding:0 12px;
    }
    .hero-title{
      font-size:24px;
      font-weight:800;
      margin-bottom:4px;
    }
    .hero-sub{
      font-size:13px;
      opacity:.92;
      margin-bottom:10px;
    }

    .search-panel{
      background:#fff;
      color:#222;
      border-radius:8px;
      padding:10px;
      box-shadow:0 4px 16px rgba(0,0,0,.25);
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      align-items:flex-end;
      margin-bottom:10px;
    }
    .search-field{
      flex:1;
      min-width:140px;
    }
    .search-label{
      font-size:11px;
      text-transform:uppercase;
      letter-spacing:.08em;
      font-weight:600;
      color:#555;
      margin-bottom:3px;
    }
    .search-input{
      border:1px solid #ccc;
      border-radius:4px;
      padding:8px 9px;
      width:100%;
      font-size:13px;
    }
    .search-input[type="date"]{
      padding-right:4px;
    }
    .search-guests{
      display:flex;
      gap:6px;
    }
    .search-guests input{
      width:100%;
    }
    .search-button-wrap{
      display:flex;
      align-items:flex-end;
      justify-content:flex-end;
      min-width:120px;
    }
    .btn-search{
      width:100%;
      border:none;
      border-radius:4px;
      padding:9px 12px;
      background:var(--sw-red);
      color:#fff;
      font-weight:700;
      font-size:14px;
      cursor:pointer;
    }

    .hero-tags{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      font-size:11px;
      margin-top:6px;
    }
    .hero-tag{
      background:rgba(255,255,255,0.14);
      border-radius:20px;
      padding:3px 9px;
      border:1px solid rgba(255,255,255,0.3);
    }

    /* MAIN LAYOUT */
    .main{
      max-width:1180px;
      margin:16px auto 40px;
      padding:0 12px;
    }
    .layout{
      display:grid;
      grid-template-columns:260px minmax(0,1fr);
      gap:16px;
    }

    /* FILTERS */
    .filters{
      background:#fff;
      border-radius:8px;
      padding:10px 10px 12px;
      box-shadow:0 1px 5px rgba(0,0,0,.08);
      font-size:13px;
    }
    .filters-title{
      font-size:14px;
      font-weight:700;
      margin-bottom:8px;
    }
    .filter-block{
      margin-bottom:10px;
    }
    .filter-block label{
      display:block;
      font-size:12px;
      margin-bottom:4px;
      color:#555;
    }
    .filter-select,
    .filter-range{
      width:100%;
      padding:6px 8px;
      border-radius:4px;
      border:1px solid #ccc;
      font-size:13px;
    }
    .filter-range{
      padding:0;
    }
    .filter-note{
      font-size:11px;
      color:#777;
      margin-top:3px;
    }

    /* SORT + RESULTS HEADER */
    .results-header{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      margin-bottom:10px;
    }
    .results-count{
      font-size:13px;
    }
    .sort-select{
      padding:6px 8px;
      font-size:13px;
      border-radius:4px;
      border:1px solid #ccc;
    }

    /* HOTEL CARDS */
    .cards{
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .card{
      background:#fff;
      border-radius:8px;
      display:grid;
      grid-template-columns:180px minmax(0,1fr) 140px;
      gap:10px;
      padding:10px;
      box-shadow:0 1px 5px rgba(0,0,0,.08);
    }
    .card-img-wrap{
      border-radius:6px;
      overflow:hidden;
      height:150px;
    }
    .card-main{
      display:flex;
      flex-direction:column;
      gap:4px;
      font-size:13px;
    }
    .card-title{
      font-size:15px;
      font-weight:700;
    }
    .card-location{
      font-size:12px;
      color:#555;
    }
    .card-rating{
      display:inline-flex;
      align-items:center;
      gap:6px;
      margin-top:4px;
    }
    .rating-badge{
      background:var(--sw-blue);
      color:#fff;
      padding:3px 7px;
      border-radius:4px;
      font-size:12px;
      font-weight:600;
    }
    .rating-text{
      font-size:12px;
      color:#555;
    }
    .card-amenities{
      font-size:12px;
      color:#555;
      margin-top:4px;
    }
    .card-amenities span{
      margin-right:6px;
    }

    .card-price{
      text-align:right;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      font-size:12px;
    }
    .price-per-night{
      font-size:16px;
      font-weight:800;
    }
    .price-note{
      font-size:11px;
      color:#555;
    }
    .btn-book{
      border:none;
      border-radius:4px;
      padding:7px 10px;
      background:var(--sw-red);
      color:#fff;
      font-weight:700;
      font-size:13px;
      cursor:pointer;
    }

    .no-results{
      font-size:13px;
      color:#555;
      margin-top:10px;
    }

    /* BOOKINGS SECTION */
    .bookings-section{
      display:none;
    }
    .bookings-section h2{
      font-size:18px;
      font-weight:800;
      margin-bottom:8px;
    }
    .booking-card{
      background:#fff;
      border-radius:8px;
      padding:10px;
      box-shadow:0 1px 5px rgba(0,0,0,.08);
      font-size:13px;
      margin-bottom:8px;
    }

    /* BOOKING MODAL */
    .modal-backdrop{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.5);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:100;
    }
    .modal{
      background:#fff;
      border-radius:8px;
      max-width:420px;
      width:90%;
      padding:14px 14px 16px;
      box-shadow:0 4px 20px rgba(0,0,0,.4);
      font-size:13px;
    }
    .modal-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      margin-bottom:8px;
    }
    .modal-title{
      font-size:16px;
      font-weight:800;
    }
    .modal-close{
      cursor:pointer;
      font-size:18px;
      line-height:1;
    }
    .modal-section{
      margin-bottom:10px;
    }
    .modal-section h4{
      font-size:13px;
      font-weight:700;
      margin-bottom:4px;
    }
    .modal-field{
      margin-bottom:6px;
    }
    .modal-field label{
      display:block;
      font-size:11px;
      margin-bottom:2px;
    }
    .modal-input{
      width:100%;
      padding:6px 8px;
      border-radius:4px;
      border:1px solid #ccc;
      font-size:13px;
    }
    .modal-actions{
      display:flex;
      justify-content:space-between;
      gap:8px;
      margin-top:8px;
    }
    .btn-secondary{
      border:none;
      border-radius:4px;
      padding:7px 10px;
      background:#eee;
      font-size:13px;
      cursor:pointer;
    }
    .btn-primary{
      border:none;
      border-radius:4px;
      padding:7px 10px;
      background:var(--sw-red);
      color:#fff;
      font-weight:700;
      font-size:13px;
      cursor:pointer;
    }
    .confirmation{
      margin-top:6px;
      font-size:12px;
      color:#155724;
      background:#d4edda;
      border-radius:4px;
      padding:6px 7px;
      display:none;
    }

    /* FOOTER */
    footer{
      background:#111;
      color:#bbb;
      font-size:11px;
      padding:14px 12px;
    }
    .footer-inner{
      max-width:1180px;
      margin:0 auto;
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      justify-content:space-between;
    }

    /* RESPONSIVE */
    @media(max-width:960px){
      .layout{
        grid-template-columns:1fr;
      }
      .card{
        grid-template-columns:140px minmax(0,1fr);
      }
      .card-price{
        grid-column:1 / -1;
        flex-direction:row;
        align-items:center;
        justify-content:space-between;
        text-align:left;
        margin-top:4px;
      }
    }
    @media(max-width:720px){
      .header-inner{
        flex-wrap:wrap;
      }
      .nav{
        order:3;
        width:100%;
        overflow-x:auto;
      }
      .search-panel{
        padding:8px;
      }
    }
    @media(max-width:520px){
      .card{
        grid-template-columns:1fr;
      }
      .card-img-wrap{
        height:180px;
      }
    }
  </style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="logo-wrap">
      <div class="logo-circle">S</div>
      <div>
        <div class="logo-text">StayWorld</div>
        <div class="logo-sub">Book stays around the world</div>
      </div>
    </div>
    <nav class="nav">
      <div class="nav-link active" data-view="search">Stays</div>
      <div class="nav-link" data-view="bookings">My bookings</div>
      <div class="nav-link">Deals</div>
      <div class="nav-link">Help</div>
    </nav>
    <div class="header-right">
      <button class="btn-outline">Sign in</button>
      <button class="btn-light">Join</button>
    </div>
  </div>
</header>

<section class="hero">
  <div class="hero-inner">
    <h1 class="hero-title">Find your next stay on StayWorld</h1>
    <p class="hero-sub">
      Search hotels, apartments, and resorts in thousands of destinations worldwide with a Hotels.com‑style experience.
    </p>

    <div class="search-panel">
      <div class="search-field">
        <div class="search-label">Destination</div>
        <input id="destInput" class="search-input" placeholder="City, region, or country (e.g. Seoul, Jeju)">
      </div>
      <div class="search-field">
        <div class="search-label">Check‑in</div>
        <input id="checkInInput" type="date" class="search-input">
      </div>
      <div class="search-field">
        <div class="search-label">Check‑out</div>
        <input id="checkOutInput" type="date" class="search-input">
      </div>
      <div class="search-field">
        <div class="search-label">Guests & rooms</div>
        <div class="search-guests">
          <input id="guestsInput" type="number" min="1" value="2" class="search-input" placeholder="Guests">
          <input id="roomsInput" type="number" min="1" value="1" class="search-input" placeholder="Rooms">
        </div>
      </div>
      <div class="search-button-wrap">
        <button id="searchBtn" class="btn-search">Search</button>
      </div>
    </div>

    <div class="hero-tags">
      <div class="hero-tag">Korea: Seoul, Busan, Jeju</div>
      <div class="hero-tag">Japan: Tokyo, Osaka</div>
      <div class="hero-tag">USA: New York, Los Angeles</div>
      <div class="hero-tag">Europe: London, Paris</div>
    </div>
  </div>
</section>

<main class="main">

  <!-- SEARCH/LIST VIEW -->
  <section id="searchView">
    <div class="layout">
      <!-- FILTERS -->
      <aside class="filters">
        <div class="filters-title">Filter</div>

        <div class="filter-block">
          <label for="priceFilter">Price range</label>
          <select id="priceFilter" class="filter-select">
            <option value="any">Any</option>
            <option value="budget">Budget (0–100)</option>
            <option value="mid">Mid‑range (100–250)</option>
            <option value="luxury">Luxury (250+)</option>
          </select>
        </div>

        <div class="filter-block">
          <label for="ratingFilter">Minimum rating</label>
          <select id="ratingFilter" class="filter-select">
            <option value="0">Any</option>
            <option value="7">7+</option>
            <option value="8">8+</option>
            <option value="9">9+</option>
          </select>
        </div>

        <div class="filter-block">
          <label for="typeFilter">Property type</label>
          <select id="typeFilter" class="filter-select">
            <option value="any">Any</option>
            <option value="hotel">Hotel</option>
            <option value="apartment">Apartment</option>
            <option value="resort">Resort</option>
          </select>
        </div>

        <div class="filter-block">
          <label>Price slider</label>
          <input id="priceSlider" type="range" min="50" max="500" value="500" class="filter-range">
          <div class="filter-note" id="priceSliderLabel">Max: $500/night</div>
        </div>

        <div class="filter-block">
          <div class="filter-note">
            Use the filters and sort to refine your results just like on Hotels.com (all data is mock).
          </div>
        </div>
      </aside>

      <!-- RESULTS -->
      <section>
        <div class="results-header">
          <div class="results-count" id="resultsCount">Search to view available stays.</div>
          <select id="sortSelect" class="sort-select">
            <option value="relevance">Sort: Recommended</option>
            <option value="priceLow">Price (low to high)</option>
            <option value="priceHigh">Price (high to low)</option>
            <option value="ratingHigh">Best rated</option>
          </select>
        </div>

        <div id="cards" class="cards"></div>
        <div id="noResults" class="no-results" style="display:none;">
          No hotels match your filters. Try a different destination or adjust the filters.
        </div>
      </section>
    </div>
  </section>

  <!-- MY BOOKINGS VIEW -->
  <section id="bookingsView" class="bookings-section">
    <h2>My bookings</h2>
    <p style="font-size:13px;color:#555;margin-bottom:8px;">
      These are mock reservations stored in your browser using localStorage – good for testing the booking flow.
    </p>
    <div id="bookingsList"></div>
    <div id="noBookings" class="no-results">
      You have no bookings yet. Search, choose a hotel, and confirm a booking to see it here.
    </div>
  </section>

</main>

<!-- BOOKING MODAL -->
<div id="modalBackdrop" class="modal-backdrop">
  <div class="modal">
    <div class="modal-header">
      <div class="modal-title" id="modalHotelName">Book this stay</div>
      <div class="modal-close" id="modalClose">×</div>
    </div>
    <div class="modal-section" id="modalSummary"></div>

    <div class="modal-section">
      <h4>Guest details</h4>
      <div class="modal-field">
        <label for="guestName">Full name</label>
        <input id="guestName" class="modal-input" placeholder="Your full name">
      </div>
      <div class="modal-field">
        <label for="guestEmail">Email</label>
        <input id="guestEmail" class="modal-input" type="email" placeholder="name@example.com">
      </div>
      <div class="modal-field">
        <label for="guestPhone">Phone</label>
        <input id="guestPhone" class="modal-input" placeholder="+00 000 0000000">
      </div>
      <div class="modal-field">
        <label for="guestNotes">Notes (optional)</label>
        <input id="guestNotes" class="modal-input" placeholder="Late check‑in, bed preference, etc.">
      </div>
    </div>

    <div class="modal-actions">
      <button class="btn-secondary" id="modalCancel">Cancel</button>
      <button class="btn-primary" id="modalConfirm">Confirm booking</button>
    </div>

    <div id="confirmationBox" class="confirmation"></div>
  </div>
</div>

<footer>
  <div class="footer-inner">
    <div>© 2026 StayWorld. Hotels.com‑style demo site (mock only).</div>
    <div>Theme inspired by Hotels.com design and colors; all data and bookings are simulated.</div>
  </div>
</footer>

<script>
  // Sample hotel data across multiple countries/cities, including Korea/Seoul/Jeju
  const hotels = [
    {
      id:"seoul_center",
      name:"Seoul City Lights Hotel",
      city:"Seoul",
      region:"Myeongdong",
      country:"South Korea",
      type:"hotel",
      rating:8.8,
      reviews:1240,
      price:140,
      image:"https://images.pexels.com/photos/338504/pexels-photo-338504.jpeg?auto=compress&cs=tinysrgb&w=1200",
      amenities:["Free WiFi","Breakfast included","Pool","Gym"]
    },
    {
      id:"seoul_river",
      name:"Hangang Riverside Suites",
      city:"Seoul",
      region:"Yeouido",
      country:"South Korea",
      type:"apartment",
      rating:9.1,
      reviews:820,
      price:185,
      image:"https://images.pexels.com/photos/259588/pexels-photo-259588.jpeg?auto=compress&cs=tinysrgb&w=1200",
      amenities:["Kitchen","River view","WiFi","Washer"]
    },
    {
      id:"jeju_resort",
      name:"Jeju Ocean Breeze Resort",
      city:"Jeju",
      region:"Seogwipo",
      country:"South Korea",
      type:"resort",
      rating:9.3,
      reviews:670,
      price:210,
      image:"https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg?auto=compress&cs=tinysrgb&w=1200",
      amenities:["Sea view","Pool","Breakfast","Spa"]
    },
    {
      id:"busan_bay",
      name:"Busan Bayfront Hotel",
      city:"Busan",
      region:"Haeundae",
      country:"South Korea",
      type:"hotel",
      rating:8.5,
      reviews:540,
      price:125,
      image:"https://images.pexels.com/photos/208745/pexels-photo-208745.jpeg?auto=compress&cs=tinysrgb&w=1200",
      amenities:["Beachfront","WiFi","Bar","Parking"]
    },
    {
      id:"tokyo_sky",
      name:"Tokyo Skyline Inn",
      city:"Tokyo",
      region:"Shinjuku",
      country:"Japan",
      type:"hotel",
      rating:8.9,
      reviews:2010,
      price:190,
      image:"https://images.pexels.com/photos/5847164/pexels-photo-5847164.jpeg?auto=compress&cs=tinysrgb&w=1200",
      amenities:["Free WiFi","On‑site restaurant","Metro access"]
    },
    {
      id:"osaka_loft",
      name:"Osaka Urban Lofts",
      city:"Osaka",
      region:"Namba",
      country:"Japan",
      type:"apartment",
      rating:8.3,
      reviews:410,
      price:130,
      image:"https://images.pexels.com/photos/439391/pexels-photo-439391.jpeg?auto=compress&cs=tinysrgb&w=1200",
      amenities:["Kitchen","WiFi","Washer"]
    },
    {
      id:"nyc_midtown",
      name:"Midtown View Hotel",
      city:"New York",
      region:"Midtown Manhattan",
      country:"USA",
      type:"hotel",
      rating:8.0,
      reviews:3150,
      price:260,
      image:"https://images.pexels.com/photos/313782/pexels-photo-313782.jpeg?auto=compress&cs=tinysrgb&w=1200",
      amenities:["Free WiFi","Breakfast","Gym"]
    },
    {
      id:"la_beach",
      name:"LA Beachfront Suites",
      city:"Los Angeles",
      region:"Santa Monica",
      country:"USA",
      type:"resort",
      rating:8.7,
      reviews:980,
      price:275,
      image:"https://images.pexels.com/photos/3385047/pexels-photo-3385047.jpeg?auto=compress&cs=tinysrgb&w=1200",
      amenities:["Beachfront","Pool","Spa","Breakfast"]
    },
    {
      id:"london_bridge",
      name:"London Riverfront Hotel",
      city:"London",
      region:"South Bank",
      country:"UK",
      type:"hotel",
      rating:8.4,
      reviews:1540,
      price:220,
      image:"https://images.pexels.com/photos/460672/pexels-photo-460672.jpeg?auto=compress&cs=tinysrgb&w=1200",
      amenities:["WiFi","Breakfast","Bar"]
    },
    {
      id:"paris_charm",
      name:"Paris Montmartre Charm",
      city:"Paris",
      region:"Montmartre",
      country:"France",
      type:"apartment",
      rating:9.0,
      reviews:730,
      price:195,
      image:"https://images.pexels.com/photos/338515/pexels-photo-338515.jpeg?auto=compress&cs=tinysrgb&w=1200",
      amenities:["Kitchen","City view","WiFi"]
    }
  ];

  const destInput = document.getElementById("destInput");
  const checkInInput = document.getElementById("checkInInput");
  const checkOutInput = document.getElementById("checkOutInput");
  const guestsInput = document.getElementById("guestsInput");
  const roomsInput = document.getElementById("roomsInput");
  const searchBtn = document.getElementById("searchBtn");

  const priceFilter = document.getElementById("priceFilter");
  const ratingFilter = document.getElementById("ratingFilter");
  const typeFilter = document.getElementById("typeFilter");
  const priceSlider = document.getElementById("priceSlider");
  const priceSliderLabel = document.getElementById("priceSliderLabel");

  const cardsEl = document.getElementById("cards");
  const resultsCountEl = document.getElementById("resultsCount");
  const noResultsEl = document.getElementById("noResults");
  const sortSelect = document.getElementById("sortSelect");

  const searchView = document.getElementById("searchView");
  const bookingsView = document.getElementById("bookingsView");
  const bookingsList = document.getElementById("bookingsList");
  const noBookings = document.getElementById("noBookings");

  const navLinks = document.querySelectorAll(".nav-link[data-view]");

  let currentSearch = {
    dest:"",
    checkIn:null,
    checkOut:null,
    nights:1,
    guests:2,
    rooms:1
  };
  let filteredHotels = hotels.slice();
  let currentHotelForBooking = null;

  function calcNights(checkIn,checkOut){
    if(!checkIn || !checkOut) return 1;
    const start = new Date(checkIn);
    const end = new Date(checkOut);
    const diff = (end - start)/(1000*60*60*24);
    return diff>0 ? diff : 1;
  }

  function applyFilters(){
    let list = hotels.slice();

    const dest = currentSearch.dest.toLowerCase();
    if(dest){
      list = list.filter(h =>
        (h.city + " " + h.region + " " + h.country).toLowerCase().includes(dest)
      );
    }

    const pf = priceFilter.value;
    list = list.filter(h => {
      if(pf==="budget") return h.price <= 100;
      if(pf==="mid") return h.price > 100 && h.price <=250;
      if(pf==="luxury") return h.price > 250;
      return true;
    });

    const sliderMax = parseFloat(priceSlider.value || "500");
    list = list.filter(h => h.price <= sliderMax);

    const minRating = parseFloat(ratingFilter.value || "0");
    list = list.filter(h => h.rating >= minRating);

    const tf = typeFilter.value;
    if(tf!=="any"){
      list = list.filter(h => h.type === tf);
    }

    const sort = sortSelect.value;
    if(sort === "priceLow"){
      list.sort((a,b)=>a.price-b.price);
    }else if(sort === "priceHigh"){
      list.sort((a,b)=>b.price-a.price);
    }else if(sort === "ratingHigh"){
      list.sort((a,b)=>b.rating-a.rating);
    }

    filteredHotels = list;
    renderCards();
  }

  function renderCards(){
    cardsEl.innerHTML = "";
    if(!filteredHotels.length){
      noResultsEl.style.display = "block";
      resultsCountEl.textContent = "0 stays found.";
      return;
    }
    noResultsEl.style.display = "none";
    resultsCountEl.textContent = `${filteredHotels.length} stays found for your dates.`;

    filteredHotels.forEach(h=>{
      const nights = currentSearch.nights || 1;
      const totalPrice = h.price * nights;

      const card = document.createElement("article");
      card.className = "card";

      const imgWrap = document.createElement("div");
      imgWrap.className = "card-img-wrap";
      const img = document.createElement("img");
      img.src = h.image;
      img.alt = h.name;
      imgWrap.appendChild(img);

      const main = document.createElement("div");
      main.className = "card-main";

      const title = document.createElement("div");
      title.className = "card-title";
      title.textContent = h.name;

      const loc = document.createElement("div");
      loc.className = "card-location";
      loc.textContent = `${h.city}, ${h.region}, ${h.country}`;

      const ratingWrap = document.createElement("div");
      ratingWrap.className = "card-rating";
      const badge = document.createElement("div");
      badge.className = "rating-badge";
      badge.textContent = h.rating.toFixed(1);
      const rt = document.createElement("div");
      rt.className = "rating-text";
      rt.textContent = `${h.reviews.toLocaleString()} reviews`;
      ratingWrap.appendChild(badge);
      ratingWrap.appendChild(rt);

      const amenities = document.createElement("div");
      amenities.className = "card-amenities";
      amenities.innerHTML = h.amenities.map(a=>`<span>• ${a}</span>`).join(" ");

      main.appendChild(title);
      main.appendChild(loc);
      main.appendChild(ratingWrap);
      main.appendChild(amenities);

      const priceCol = document.createElement("div");
      priceCol.className = "card-price";
      const perNight = document.createElement("div");
      perNight.className = "price-per-night";
      perNight.textContent = `$${h.price}`;
      const perNightNote = document.createElement("div");
      perNightNote.className = "price-note";
      perNightNote.textContent = `per night • ${nights} night(s)`;
      const totalNote = document.createElement("div");
      totalNote.className = "price-note";
      totalNote.textContent = `Total: $${totalPrice}`;
      const bookBtn = document.createElement("button");
      bookBtn.className = "btn-book";
      bookBtn.textContent = "Book";
      bookBtn.addEventListener("click",()=>openBookingModal(h,totalPrice));

      priceCol.appendChild(perNight);
      priceCol.appendChild(perNightNote);
      priceCol.appendChild(totalNote);
      priceCol.appendChild(bookBtn);

      card.appendChild(imgWrap);
      card.appendChild(main);
      card.appendChild(priceCol);

      cardsEl.appendChild(card);
    });
  }

  function runSearch(){
    currentSearch.dest = destInput.value.trim();
    const ci = checkInInput.value;
    const co = checkOutInput.value;
    currentSearch.checkIn = ci || null;
    currentSearch.checkOut = co || null;
    currentSearch.nights = calcNights(ci,co);
    currentSearch.guests = parseInt(guestsInput.value || "1",10);
    currentSearch.rooms = parseInt(roomsInput.value || "1",10);
    applyFilters();
  }

  searchBtn.addEventListener("click", runSearch);
  priceFilter.addEventListener("change", applyFilters);
  ratingFilter.addEventListener("change", applyFilters);
  typeFilter.addEventListener("change", applyFilters);
  sortSelect.addEventListener("change", applyFilters);

  priceSlider.addEventListener("input", ()=>{
    priceSliderLabel.textContent = `Max: $${priceSlider.value}/night`;
    applyFilters();
  });

  // Booking modal / localStorage
  const modalBackdrop = document.getElementById("modalBackdrop");
  const modalHotelName = document.getElementById("modalHotelName");
  const modalSummary = document.getElementById("modalSummary");
  const modalClose = document.getElementById("modalClose");
  const modalCancel = document.getElementById("modalCancel");
  const modalConfirm = document.getElementById("modalConfirm");
  const confirmationBox = document.getElementById("confirmationBox");
  const guestName = document.getElementById("guestName");
  const guestEmail = document.getElementById("guestEmail");
  const guestPhone = document.getElementById("guestPhone");
  const guestNotes = document.getElementById("guestNotes");

  function openBookingModal(h,totalPrice){
    currentHotelForBooking = {hotel:h,totalPrice};
    modalHotelName.textContent = h.name;
    const ci = currentSearch.checkIn || "(no date)";
    const co = currentSearch.checkOut || "(no date)";
    const nights = currentSearch.nights || 1;

    modalSummary.innerHTML = `
      <div class="modal-section">
        <h4>Stay details</h4>
        <div>${h.city}, ${h.region}, ${h.country}</div>
        <div>${ci} → ${co} • ${nights} night(s)</div>
        <div>${currentSearch.guests} guest(s), ${currentSearch.rooms} room(s)</div>
        <div style="margin-top:4px;font-weight:700;">Total: $${totalPrice}</div>
        <div style="font-size:11px;color:#555;margin-top:2px;">
          Payment method: Pay at property (mock). No real charge.
        </div>
      </div>
    `;
    guestName.value = "";
    guestEmail.value = "";
    guestPhone.value = "";
    guestNotes.value = "";
    confirmationBox.style.display = "none";
    modalBackdrop.style.display = "flex";
  }

  function closeModal(){
    modalBackdrop.style.display = "none";
  }

  modalClose.addEventListener("click", closeModal);
  modalCancel.addEventListener("click", closeModal);
  modalBackdrop.addEventListener("click", e=>{
    if(e.target === modalBackdrop) closeModal();
  });

  function randomBookingId(){
    return "SW-" + Math.random().toString(36).substring(2,8).toUpperCase();
  }

  function loadBookings(){
    const raw = localStorage.getItem("stayworld_bookings");
    if(!raw){
      bookingsList.innerHTML = "";
      noBookings.style.display = "block";
      return;
    }
    let arr = [];
    try{ arr = JSON.parse(raw)||[]; }catch(e){ arr = []; }
    bookingsList.innerHTML = "";
    if(!arr.length){
      noBookings.style.display = "block";
      return;
    }
    noBookings.style.display = "none";
    arr.forEach(b=>{
      const card = document.createElement("div");
      card.className = "booking-card";
      card.innerHTML = `
        <div style="font-weight:700;margin-bottom:3px;">${b.hotelName}</div>
        <div>${b.city}, ${b.country}</div>
        <div>${b.checkIn} → ${b.checkOut} • ${b.nights} night(s)</div>
        <div>${b.guests} guest(s), ${b.rooms} room(s)</div>
        <div>Booking ID: <strong>${b.id}</strong></div>
        <div>Total: $${b.totalPrice}</div>
        <div style="font-size:11px;color:#555;margin-top:3px;">
          Status: Reserved (mock) – confirmation sent to ${b.email}
        </div>
      `;
      bookingsList.appendChild(card);
    });
  }

  modalConfirm.addEventListener("click", ()=>{
    if(!currentHotelForBooking) return;
    const name = guestName.value.trim();
    const email = guestEmail.value.trim();
    if(!name || !email){
      alert("Please enter at least your name and email.");
      return;
    }
    const bookingId = randomBookingId();
    const h = currentHotelForBooking.hotel;

    const booking = {
      id:bookingId,
      hotelId:h.id,
      hotelName:h.name,
      city:`${h.city}, ${h.region}`,
      country:h.country,
      checkIn:currentSearch.checkIn || "(no date)",
      checkOut:currentSearch.checkOut || "(no date)",
      nights:currentSearch.nights || 1,
      guests:currentSearch.guests,
      rooms:currentSearch.rooms,
      totalPrice:currentHotelForBooking.totalPrice,
      name,
      email,
      phone:guestPhone.value.trim(),
      notes:guestNotes.value.trim(),
      createdAt:Date.now()
    };
    const raw = localStorage.getItem("stayworld_bookings");
    let arr=[];
    if(raw){
      try{arr = JSON.parse(raw)||[];}catch(e){arr=[];}
    }
    arr.unshift(booking);
    localStorage.setItem("stayworld_bookings",JSON.stringify(arr));

    confirmationBox.textContent =
      `Booking confirmed! ID ${bookingId}. A mock confirmation has been "sent" to ${email}.`;
    confirmationBox.style.display = "block";

    setTimeout(()=>{
      closeModal();
      switchView("bookings");
    },1200);
  });

  function switchView(view){
    if(view==="bookings"){
      searchView.style.display = "none";
      bookingsView.style.display = "block";
      navLinks.forEach(n=>n.classList.toggle("active",n.dataset.view==="bookings"));
      loadBookings();
    }else{
      searchView.style.display = "block";
      bookingsView.style.display = "none";
      navLinks.forEach(n=>n.classList.toggle("active",n.dataset.view==="search"));
    }
  }

  navLinks.forEach(link=>{
    link.addEventListener("click",()=>{
      const v = link.dataset.view;
      if(v) switchView(v);
    });
  });

  // Initial state: show some popular stays without filters
  filteredHotels = hotels.slice();
  renderCards();
</script>

</body>
</html>
